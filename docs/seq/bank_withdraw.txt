title Withdraw Sequence

actor Client

BankApplication->framework:1.startFinco
activate framework
BankApplication<--framework:
deactivate framework

BankApplication->BankFrame:2.<<new>>
activate BankFrame

BankApplication<--BankFrame:
deactivate BankFrame
space 

participant GenericJTableModel

BankApplication->BankFrame:3.setvisible
activate BankFrame
BankApplication<--BankFrame:
deactivate BankFrame




Client->BankFrame:4.JButtonWithdraw_actionPerformed
activate BankFrame

BankFrame->GenericJDialog_Withdraw:5.<<new>>
activate GenericJDialog_Withdraw
BankFrame<--GenericJDialog_Withdraw:
deactivate GenericJDialog_Withdraw

BankFrame->GenericJDialog_Withdraw:6.show
activate GenericJDialog_Withdraw
BankFrame<--GenericJDialog_Withdraw:
Client<--BankFrame:

deactivate GenericJDialog_Withdraw
deactivate BankFrame


Client->BankFrame:input withdraw amount
activate BankFrame


BankFrame->BankFrame:7.getAmountWithdraw
activate BankFrame
space 
deactivate BankFrame

participant BankAccTableModelResponse



BankFrame->BankController:8.withdraw
activate BankController
BankController->AbstractAccountService:9.withdrawMoney
activate AbstractAccountService


AbstractAccountService->AbstractStorageService:10.getIAccountByUniqueId
activate AbstractStorageService

AbstractAccountService<--AbstractStorageService:BankAccount
deactivate AbstractStorageService


AbstractAccountService->BankAccount:11.setBalance
activate BankAccount
AbstractAccountService<--BankAccount:
deactivate BankAccount

AbstractAccountService->Entry:12.<<new>>
activate Entry
AbstractAccountService<--Entry:
deactivate Entry

AbstractAccountService->BankAccount:13.addEntry
activate BankAccount
AbstractAccountService<--BankAccount:
deactivate BankAccount


AbstractAccountService->AbstractStorageService:14.update
activate AbstractStorageService
AbstractAccountService<-AbstractStorageService:
deactivate AbstractStorageService


AbstractAccountService->BankAccount:15.notifyPartyOnTxEntry
activate BankAccount
AbstractAccountService<--BankAccount:
BankController<--AbstractAccountService:

deactivate BankAccount



deactivate AbstractAccountService


BankController->BankAccTableModelResponse:16.<<new>>
activate BankAccTableModelResponse

BankController<--BankAccTableModelResponse:
deactivate BankAccTableModelResponse

BankController->BankAccTableModelResponse:17.setAmount
activate BankAccTableModelResponse

BankController<--BankAccTableModelResponse:
deactivate BankAccTableModelResponse


BankFrame<--BankController:
deactivate BankController
BankFrame->GenericJTableModel:update
activate GenericJTableModel
BankFrame<--GenericJTableModel:
deactivate GenericJTableModel
Client<--BankFrame:


deactivate BankFrame


