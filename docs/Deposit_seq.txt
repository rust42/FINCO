title Deposit Sequence

actor BankApp

BankApp->framework:1.bootstrap
activate framework
BankApp<--framework:
deactivate framework

BankApp->BankFrame:2.<<create>>BankApp
activate BankFrame

BankApp<--BankFrame:
deactivate BankFrame
space 

BankApp->BankFrame:3.onDepositClicked
activate BankFrame
BankApp<--BankFrame:
deactivate BankFrame

BankFrame->BankFrame:4.openForm
activate BankFrame


BankFrame->FrameworkServiceRetriever:5.getService
activate FrameworkServiceRetriever
BankFrame<--FrameworkServiceRetriever:AbstractAccountService
deactivate FrameworkServiceRetriever

FrameworkServiceRetriever->DefaultAccountService:6.depositMoney
activate DefaultAccountService

DefaultAccountService->DefaultInMemoryStorageService:7.getIAccount
activate DefaultInMemoryStorageService
DefaultAccountService<--DefaultInMemoryStorageService:IAccount
deactivate DefaultInMemoryStorageService
deactivate DefaultAccountService


DefaultAccountService->DefaultAccountService:8.updateBalance
activate DefaultAccountService

DefaultAccountService->DefaultInMemoryStorageService:9.store
activate DefaultInMemoryStorageService
DefaultAccountService<--DefaultInMemoryStorageService:
deactivate DefaultInMemoryStorageService
deactivate DefaultAccountService

space 
activate DefaultAccountService
DefaultAccountService->DefaultEmailService:10.sendEmail
activate DefaultEmailService
DefaultAccountService<--DefaultEmailService:
deactivate DefaultEmailService
BankFrame<--DefaultAccountService:
deactivate DefaultAccountService
deactivate BankFrame

BankFrame->BankFrame:11.updateUI
activate BankFrame




